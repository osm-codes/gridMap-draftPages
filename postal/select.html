<!DOCTYPE html><html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OSM CODES</title>
<link rel="shortcut icon" type="image/png" href="/resources/img/address_for_all-01-colorful.ico.png" />
<script>
function sel_jurL1(abbrev,optc) {
  if (abbrev>'') {
    let jL2dom = document.getElementById(optc+'_jurL2');
    let fcall = "sel_jurL2(this.value,'"+optc+"')"
    let s = '<select name="states" onchange="'+fcall+'"><option value="">-- States--</option>'
    let lst = (optc=='wrk')? approved_jurisdictions[abbrev]: jurisdictions[abbrev];
    for ( var i of Object.keys(lst) ){
        s += '<option value="' + i + '">' + (abbrev != 'CO' ? i + ' - ' : '') + jurisdictions[abbrev][i]['name']
    }
    jL2dom.innerHTML=s+"</select>"
    let jL3dom = document.getElementById(optc+'_jurL3');
    jL3dom.innerHTML=""
  }
}
function sel_jurL2(abbrev,optc) {
  if (abbrev>'') {
    let country = document.getElementById(optc+'_jurL1').value;
    let state = document.querySelector('#'+optc+'_jurL2 select').value;
    let jL3dom = document.getElementById(optc+'_jurL3');
    let fcall = "sel_jurL3(this.value,'"+optc+"')"
    let s = '<select name="cities" onchange="'+fcall+'"><option value="">-- Cities --</option>'
    let lst = (optc=='wrk')? approved_jurisdictions[country][state]['mun']: jurisdictions[country][state]['mun'];
    for ( var i of lst ){
        s += '<option>'+i
    }
    jL3dom.innerHTML=s+"</select>"
  }
}
function sel_jurL3(abbrev,optc) {
    let country = document.getElementById(optc+'_jurL1').value;
    let state = document.querySelector('#'+optc+'_jurL2 select').value;
    if (optc=='wrk' || (approved_jurisdictions[country] && approved_jurisdictions[country][state] && approved_jurisdictions[country][state]['mun'].includes(abbrev)) || confirm("It is not working,\nit is only to see city at the map ok?")) {
      window.location.href = '/' + country+'-'+state+'-'+abbrev
    }
}
</script>
</head>

<body style="padding:1em">
<p>OSMcodes of the country!</p> 

<select name="countries1" id="wrk_jurL1" onchange="sel_jurL1(this.value,'wrk')">
  <option value="" selected="1">-- Country --</option>
  <option value="BR">BR - Brazil</option>
  <option value="CO">CO - Colombia</option>
  <option value="UY">UY - Uruguay</option>
</select> &nbsp; <span id="wrk_jurL2"></span> &nbsp; <span id="wrk_jurL3"></span>


<script src="/jurisdictions_select.js"></script><!-- basta incluir um asterisco nos aprovados, e depois remover -->
<script src="/approved_jurisdictions_select.js"></script>
</body>
</html>

